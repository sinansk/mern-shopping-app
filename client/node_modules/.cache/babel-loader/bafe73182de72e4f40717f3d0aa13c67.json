{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sinan\\\\Desktop\\\\Code\\\\Web Development\\\\react-shopping-app\\\\shopping-app\\\\client\\\\src\\\\pages\\\\Success.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation } from \"react-router\";\nimport { userRequest } from \"../requestMethods\";\nimport { Link } from \"react-router-dom\";\nimport { emptyCart } from \"../redux/cartRedux\";\nimport { useDispatch } from \"react-redux\";\nimport styled from \"styled-components\";\nimport DoneOutlineIcon from \"@mui/icons-material/DoneOutline\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  font-size: 22px;\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: #ece9e6; /* fallback for old browsers */\n  background: -webkit-linear-gradient(\n    to right,\n    #ffffff,\n    #ece9e6\n  ); /* Chrome 10-25, Safari 5.1-6 */\n  background: linear-gradient(\n    to right,\n    #ffffff,\n    #ece9e6\n  ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n`;\n_c = Container;\nconst Button = styled.button`\n  padding: 10px;\n  margin-top: 20px;\n  background-color: teal;\n  color: white;\n  cursor: pointer;\n  &:hover {\n    opacity: 0.8;\n  }\n`;\n_c2 = Button;\n\nconst Success = () => {\n  _s();\n\n  const location = useLocation(); //in Cart.jsx I sent data and cart. Please check that page for the changes.(in video it's only data)\n\n  const data = location.state.data;\n  console.log(data);\n  const cart = useSelector(state => state.cart);\n  console.log(cart);\n  const currentUser = useSelector(state => state.user.currentUser);\n  const [orderId, setOrderId] = useState(null);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const createOrder = async () => {\n      try {\n        const res = await userRequest.post(\"/orders\", {\n          userId: currentUser._id,\n          products: cart.products.map(item => ({\n            productId: item._id,\n            quantity: item.quantity\n          })),\n          amount: cart.total,\n          address: data.billing_details.address\n        });\n        console.log(res);\n        setOrderId(res.data._id);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    if (data && cart.products.length > 0) {\n      createOrder();\n    }\n  }, [cart, data, currentUser, dispatch]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(DoneOutlineIcon, {\n      style: {\n        color: \"teal\",\n        fontSize: \"48px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), orderId ? `Order has been created successfully. Your order number is: ${orderId}` : `Successfull. Your order is being prepared...`, /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        children: \"GO TO HOMEPAGE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Success, \"Lhsj7h+mHiVzbRrWJTijYD/LU00=\", false, function () {\n  return [useLocation, useSelector, useSelector, useDispatch];\n});\n\n_c3 = Success;\nexport default Success;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"Success\");","map":{"version":3,"names":["useEffect","useState","useSelector","useLocation","userRequest","Link","emptyCart","useDispatch","styled","DoneOutlineIcon","Container","div","Button","button","Success","location","data","state","console","log","cart","currentUser","user","orderId","setOrderId","dispatch","createOrder","res","post","userId","_id","products","map","item","productId","quantity","amount","total","address","billing_details","err","length","color","fontSize"],"sources":["C:/Users/sinan/Desktop/Code/Web Development/react-shopping-app/shopping-app/client/src/pages/Success.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { emptyCart } from \"../redux/cartRedux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport DoneOutlineIcon from \"@mui/icons-material/DoneOutline\";\r\n\r\nconst Container = styled.div`\r\n  font-size: 22px;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #ece9e6; /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(\r\n    to right,\r\n    #ffffff,\r\n    #ece9e6\r\n  ); /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(\r\n    to right,\r\n    #ffffff,\r\n    #ece9e6\r\n  ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n`;\r\nconst Button = styled.button`\r\n  padding: 10px;\r\n  margin-top: 20px;\r\n  background-color: teal;\r\n  color: white;\r\n  cursor: pointer;\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\nconst Success = () => {\r\n  const location = useLocation();\r\n  //in Cart.jsx I sent data and cart. Please check that page for the changes.(in video it's only data)\r\n  const data = location.state.data;\r\n  console.log(data);\r\n  const cart = useSelector((state) => state.cart);\r\n  console.log(cart);\r\n  const currentUser = useSelector((state) => state.user.currentUser);\r\n  const [orderId, setOrderId] = useState(null);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const createOrder = async () => {\r\n      try {\r\n        const res = await userRequest.post(\"/orders\", {\r\n          userId: currentUser._id,\r\n          products: cart.products.map((item) => ({\r\n            productId: item._id,\r\n            quantity: item.quantity,\r\n          })),\r\n          amount: cart.total,\r\n          address: data.billing_details.address,\r\n        });\r\n        console.log(res);\r\n        setOrderId(res.data._id);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    if (data && cart.products.length > 0) {\r\n      createOrder();\r\n    }\r\n  }, [cart, data, currentUser, dispatch]);\r\n\r\n  return (\r\n    <Container>\r\n      <DoneOutlineIcon style={{ color: \"teal\", fontSize: \"48px\" }} />\r\n      {orderId\r\n        ? `Order has been created successfully. Your order number is: ${orderId}`\r\n        : `Successfull. Your order is being prepared...`}\r\n      <Link to=\"/\">\r\n        <Button>GO TO HOMEPAGE</Button>\r\n      </Link>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Success;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}